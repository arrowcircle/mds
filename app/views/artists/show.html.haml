.flex.flex-row.items-center
  %h1.mr-2= @artist.name
  = link_to "ред", [:edit, @artist], class: "btn btn-ghost"
  = link_to "назад", :back, class: "btn btn-ghost"
  
- if @artist.description.present?
  = raw @artist.description

.flex.flex-row.items-center
  %h2.mr-2.flex-row Треки
  = link_to "+ Добавить", [:new, @artist, :track], class: "btn btn-ghost flex-row"

- if @tracks.present?
  .overflow-x-auto
    %table.table.w-full
      %thead
        %tr
          %th Название
          %th
      %tbody
        - @tracks.each do |track|
          %tr
            %td
              = link_to [@artist, track] do
                = "#{track.name} (#{track.playlists_count})"
            %td
              - if current_user.present? && current_user.admin?
                .text-right
                  = link_to [:edit, @artist, track], class: "btn btn-ghost btn-sm" do
                    = image_tag "edit.svg", class: "h-4 w-4"
                  = link_to [@artist, track], data: { turbo_method: :delete, turbo_confirm: "Точно удалить?" }, class: "btn btn-error btn-sm" do
                    = image_tag "trash.svg", class: "h-4 w-4"

  - if @pagy.pages > 1
    .flex.flex-col.items-center
      = raw pagy_nav(@pagy)
- else
  %h2 У этого артиста пока нет треков.
  %p
    Может
    = link_to "+ добавить", [:new, @artist, :track], class: "link link-primary"
    = "?"