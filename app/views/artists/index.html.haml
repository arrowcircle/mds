.flex.flex-row.items-center.align-center
  .flex-auto
    %h1.mr-2
      Артисты
  .flex-auto.text-right
    = link_to [:new, :artist], class: "btn btn-sm btn-ghost" do
      = vite_image_tag "images/add.svg", class: "w-4 h-4"
      добавить
%hr/
- if @artists.present?
  .overflow-x-auto.mt-2
    %table.table.w-full.table-compact
      %thead
        %tr
          %th Имя
          %th
      %tbody
        - @artists.each do |artist|
          %tr
            %td
              = link_to [artist] do
                = "#{artist.name} (Треков: #{artist.tracks_count})"

            %td
              - if current_user.present? && current_user.admin?
                .text-right
                  = link_to [:edit, artist], class: "btn btn-ghost btn-sm" do
                    = vite_image_tag "edit.svg", class: "h-4 w-4"
                  = link_to [artist], data: { turbo_method: :delete, turbo_confirm: "Точно удалить?" }, class: "btn btn-error btn-sm" do
                    = vite_image_tag "trash.svg", class: "h-4 w-4"

  - if @pagy.pages > 1
    .flex.flex-col.items-center.my-2
      = raw pagy_nav(@pagy)
- else
  %h3
    Мы не нашли артистов. Может
    = link_to "добавить", [:new, :artist]
    = "?"
